\input{../../../preamble}
\begin{document}

% *******************************
%
%	ГРАФИК ФУНКЦИЙ u(x), w(x)
%
% *******************************
\begin{figure}
\begin{center}
\begin{tikzpicture}[framed]
%\pgfsetlayers{background,axis grid, axis ticks, axis lines, axis tick labels,main,axis descriptions,axis foreground}
%\begin{pgfonlayer}{main}
\begin{axis}
[
	my graph style,
	axis y line*=left,
	xlabel = {\empty},	% подпись оси x
	ylabel = {\empty},	% подпись оси y
	xmin=0, xmax=10, xtick={1,3.5,6,7.5,9}, xticklabels={$x_{i-1}$,$x_{i-\onehalf}$,$x_{i}$,$x_{i+\onehalf}$,$x_{i+1}$},
	ymin=0, ymax=10, ytick={6,1,9}, yticklabels={$u(x_{i-1})$,$u(x_{i})$,$u(x_{i+1})$},
	const plot mark mid,
]
\addplot[thick, mark=*, mark size=5pt, mark options={fill=lime, draw=black, solid}]
coordinates {(1,6) (6,1) (9,9)};
\end{axis}
\begin{axis}
[
	my graph style,
	axis y line*=right,
	axis x line=none,
	ylabel = {\empty},	% подпись оси y
	xmin=0, xmax=10, xtick={\empty},
	ymin=0, ymax=10, ytick={3,7}, yticklabels={$w(x_{i-\onehalf})$,$w(x_{i+\onehalf})$},
	y axis line style={red},	
	ytick style={thick, red},
	yticklabel style={color=red},
	major grid style={color=red!20, dashed, thin},
]
\addplot[thick, red, thick] coordinates {(1,3) (6,3) (6,7) (9,7)};
\addplot[only marks, mark=*, mark size=5pt, mark options={fill=orange!20, draw=red, solid}]
coordinates {(3.5,3) (7.5,7)};
\end{axis}
%\end{pgfonlayer}{main}
\end{tikzpicture}
\caption{
Схематическое изображение распределения неизвестной функции $u(x)$
и потоковой величины $w(x)$ в пределах контрольной области $x\in[x_{i-1},x_{i+1}]$
}
\label{fig:ODE_mesh}
\end{center}
\end{figure}
% *******************************************
\end{document}
